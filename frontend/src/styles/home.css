:root{
    --bg:#0f0f0f;        /* fondo principal */
    --panel:#181818;     /* tarjetas / paneles */
    --panel-2:#121212;   /* sidebar / nav */
    --text:#fff;         /* texto */
    --muted:#b3b3b3;     /* texto suave */
    --accent:#e84141;    /* rojo acento (botón play, sliders) */
    --accent-2:#ff7272;  /* rojo claro (hover) */
    --chip:#242424;
    --radius:14px;
}
html,body,#root{height:100%}
body{background:var(--bg); color:var(--text);}

/* ====== AJUSTE CLAVE: layout a alto completo con scroll interno ====== */
.app-shell{
    /* antes: display:grid; grid-template-columns:260px 1fr; min-height:100vh; */
    display:flex;
    height:100vh;              /* ocupa todo el viewport */
    overflow:hidden;           /* evita doble scroll del body */
}

/* Sidebar fija a la izquierda, con scroll propio si es necesario */
.sidebar{
    background:var(--panel-2);
    padding:18px;
    position:sticky;
    top:0;
    /* antes: height:100vh; overflow:auto; */
    flex:0 0 260px;            /* equivalente a tu grid de 260px */
    min-height:100%;
    overflow:auto;
}
.brand{font-weight:700; letter-spacing:.5px; font-size:20px; margin-bottom:18px; display:flex; align-items:center; gap:8px}
.navbtn{display:flex; gap:10px; align-items:center; width:100%; padding:10px 12px; border-radius:10px; color:var(--text); opacity:.85; border:0; background:transparent; cursor:pointer}
.navbtn:hover,.navbtn.active{background:var(--chip); opacity:1}
.playlist-item{padding:8px 12px; border-radius:8px; background:transparent; color:var(--muted); border:0; text-align:left; width:100%}
.playlist-item:hover{background:var(--chip); color:var(--text)}

/* Main ahora es un contenedor de columna con scroll en .content */
.main{
    /* antes: padding:22px 26px; overflow:auto; */
    flex:1 1 auto;
    min-width:0;
    display:flex;
    flex-direction:column;
    height:100%;
    overflow:hidden;           /* el scroll va en .content */
}

/* NUEVO: área que scrollea */
.main .content{
    flex:1 1 auto;
    overflow:auto;
    padding:22px 26px;         /* mantiene tu padding original */
}

.topbar{display:flex; align-items:center; gap:10px; margin:18px 26px 0 26px}
.pill{width:34px; height:34px; border-radius:50%; background:var(--chip); display:flex; align-items:center; justify-content:center; color:var(--muted)}
.profile{margin-left:auto; background:var(--chip); border-radius:999px; padding:8px 12px; color:var(--text)}
.section{margin: 18px 0 8px}
.section h2{font-size:26px; font-weight:800}
.row-scroll{display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:16px}
.card{background:var(--panel); border-radius:var(--radius); padding:12px; display:flex; flex-direction:column; gap:8px; height:100%}
.card-cover{height:120px; border-radius:10px; background:linear-gradient(135deg,#2b2b2b,#3a3a3a)}
.card-title{font-weight:700}
.card-muted{color:var(--muted); font-size:13px}
.card .btn{margin-top:auto}

.chips{display:flex; gap:12px; overflow:auto; padding-bottom:6px}
.chip{background:var(--chip); color:var(--text); padding:10px 14px; border-radius:999px; white-space:nowrap; cursor:pointer}
.chip:hover{background:#2a2a2a}

.select{background:var(--chip); color:var(--text); border:0; border-radius:10px; padding:10px 12px}

/* ====== AJUSTE CLAVE: player pegado abajo del main (no de la ventana) ====== */
.playerbar{
    /* antes: position:fixed; left:260px; right:0; bottom:0; */
    position:sticky;
    bottom:0;
    background:rgba(20,20,20,.98);
    border-top:1px solid #222;
    padding:10px 14px;
    display:grid;
    grid-template-columns:1fr auto 1fr;
    align-items:center;
    gap:16px;
    /* se mantiene el look & feel */
}
.trackmeta{display:flex; gap:10px; align-items:center}
.trackmeta .cover{width:44px; height:44px; border-radius:8px; background:#2c2c2c}
.controls{display:flex; gap:10px; align-items:center}
.ctrl{width:36px; height:36px; border-radius:50%; background:var(--chip); color:var(--text); display:flex; align-items:center; justify-content:center; border:0; cursor:pointer}
.play{background:var(--accent)}
.play:hover{background:var(--accent-2)}
.line{display:flex; align-items:center; gap:10px}
.time{color:var(--muted); font-size:12px}
.range{appearance:none; height:4px; background:#2b2b2b; border-radius:999px; outline:none; width:100%}
.range::-webkit-slider-thumb{appearance:none; width:12px; height:12px; background:var(--accent); border-radius:50%; cursor:pointer}
.heart{background:transparent; border:0; color:var(--muted); cursor:pointer}
.heart.active{color:#ff5b77}

/* Ya no necesitas un spacer fijo, pero si existe no estorba */
.footer-spacer{height:70px}

/* Pequeño seguro para que los sliders no rompan el layout en pantallas chicas */
.playerbar .line .range{max-width:100%}

/* --- Ajustes de layout/altura y barra fija --- */
html, body, #root {
    height: 100%;
}

body {
    margin: 0;
}

.app-shell{
    min-height: 100vh;
    height: 100dvh;          /* respeta alturas de viewport modernas */
    grid-template-rows: 1fr; /* asegura que el grid ocupe todo */
}

.sidebar{
    height: 100vh;
    overflow: auto;
}

.main{
    /* que el panel central sea scrollable y no se “corte” */
    height: 100%;
    min-height: 0;
    overflow: auto;
    padding-bottom: 140px;   /* reserva espacio para la playerbar */
}

/* La barra de reproducción pegada al fondo y con ancho relativo a la sidebar */
.playerbar{
    position: fixed;
    bottom: 0;
    right: 0;
    left: 260px;                 /* igual al ancho de tu sidebar */
    width: calc(100% - 260px);   /* evita desalineación al reducir ventana */
    z-index: 50;
}

/* El spacer ya no es necesario si usamos padding-bottom en .main */
.footer-spacer{
    height: 0;
}

/* Pequeña mejora para pantallas más estrechas (opcional) */
@media (max-width: 980px){
    .app-shell{ grid-template-columns: 240px 1fr; }
    .playerbar{
        left: 240px;
        width: calc(100% - 240px);
    }
}

@media (max-width: 840px){
    .app-shell{ grid-template-columns: 220px 1fr; }
    .playerbar{
        left: 220px;
        width: calc(100% - 220px);
    }
}
